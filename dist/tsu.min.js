/*!
 * Copyright 2016, nju33
 * Released under the MIT License
 * https://github.com/totora0155/tsu.js
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Tsu=t()}(this,function(){"use strict";function e(e,t){if(this.label=e,this.opts={color:"#fff",size:3},null!=t.color&&(this.opts.color=t.color),null!=t.size){if("number"!=typeof t.size)throw Error("Please `size` specify a number value");this.opts.size=t.size}}function t(){l();var e=document.createElement("ul");return e.className="tsu__box",document.body.appendChild(e),e}function i(e,t,i){var n=document.createElement("li");return n.className="tsu__log tsu__"+e,n.innerHTML='<div class="tsu__inner"><span class="tsu__label">'+e+'</span><span class="tsu__message">'+t+"</span></div>",n.children[0].style.background=i.color,n}function n(e){u.insertBefore(e,u.children[0]),e.setAttribute("data-height",e.children[0].clientHeight),d.unshift(e)}function o(e){var t=e.getAttribute("data-height");e.style.height=t+"px",e.style.opacity=1}function s(t,i){switch(null==i&&(i="fall"),i){case"fall":a(t);break;case"hide":c(t)}e.config.clickEvent&&log.removeEventListener("click",r,!1)}function r(e){s(e.currentTarget,"hide")}function a(e){var t=e.getAttribute("data-height");e.style.opacity=0,e.children[0].style.top=t+"px",setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},125)}function c(e){e.style.opacity=0,e.style.height=0}function l(){var t=document.createElement("style"),i="cubic-bezier(0.175, 0.885, 0.32, 1.275)",n=".tsu__box {position: fixed;right: 50%;top: 1em;min-width: "+e.config.width+";-ms-transform: translateX(50%);-webkit-transform: translateX(50%);transform: translateX(50%);list-style: none;}.tsu__log {overflow:hidden;margin: .5em;-webkit-transition:height .2s "+i+",opacity .125s ease-out;transition:height .2s "+i+",opacity .125s ease-out;height: 0;opacity: 0;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.tsu__inner {position: relative;padding: .5em;-webkit-transition: top .125s ease-out;transition: top .125s ease-out;top: 0;}.tsu__label {padding: .3em .5em;margin-right: .5em;border-radius: 7px;background: hsla(0, 100%, 100%, .3);}";t.innerText=n,document.head.insertBefore(t,document.head.children[0])}var u=null,d=[];return e.config={width:"15em",timeout:2e3,clickEvent:!1},e.prototype.add=function(a){u||(u=t());var c=i(this.label,a,this.opts);if(e.config.clickEvent&&c.addEventListener("click",r,!1),n(c),setTimeout(o.bind(null,c),0),d.length>this.opts.size){var l=d.pop();s(l)}if(e.config.timeout)try{setTimeout(function(){s(c,"hide")},e.config.timeout)}catch(h){throw Error(h)}},e});